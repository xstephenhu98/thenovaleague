<!DOCTYPE HTML>

<html>
<head>
  <title>The Nova League</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://bootswatch.com/superhero/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="style.css">

</head>
<body>

 <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">The Nova League</span></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          
        <ul class="nav navbar-nav navbar-right">
            <li><div class="btn-nav"><a type="button" class="btn btn-default btn-sm navbar-btn" href="index.html">BACK TO HOME</a></div></li>
        
          </ul>
          
        </div><!--/.nav-collapse -->
      </div>
  </nav>

  

  <div class="container theme-showcase" role="main">
      <div class="row">
      

       <div class="panel panel-default col-md-3" style="margin: 0 auto">
       <form name="signup" role="form" action="signup.php" method="post">
                 
                 <div class="input-group" style="width:100%;">
                 <input type="text" class="form-control" name="username" id="username" value="" placeholder="Username">                                        
                 </div>

                 <div class="input-group" style="width:100%;">
                 <input type="password" class="form-control" name="password" id="password" value="" placeholder="Password">                                        
                 </div>

                 <div class="input-group" style="width:100%;">
                 <input type="password" class="form-control" name="password-repeat" id="password-repeat" value="" placeholder="Repeat Password">                                      
                 </div>
                 <br>

                 <div class="input-group">
                  <input type="text" class="form-control" name="ogs-userid" id="ogs-userid" placeholder="Your OGS User ID" aria-describedby="ogs-import">
                  <span class="input-group-btn"><button type="button" class="btn btn-success" id="ogs-import" data-toggle="tooltip" data-placement="right" title="" data-original-title="Import" onclick="fetchRank()"><i class="glyphicon glyphicon-import"></i></button></span>



                 </div>
                 <br>

                 <div class="input-group" style="width:100%;">
                 <input type="text" class="form-control" name="rating" id="rating" value="" placeholder="Rating" disabled="">                                        
                 </div>

                 <div class="input-group" style="width:100%;">
                 <input type="text" class="form-control" name="rank" id="rank" value="" placeholder="Rank" disabled="">                                        
                 </div>

                 <div class="input-group" style="width:100%;">
                 <textarea type="text" class="form-control" name="about" id="about" value="" rows="5" placeholder="About yourself..."></textarea>                                        
                 </div>

                 <button type="submit" class="btn btn-primary" style="width:100%;">SIGN UP</button>
             </form>
         </div>
        
      
    </div>




  <!-- Optional theme -->
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  

</body>

<script type="text/javascript">
$(document).ready(function() {
    $("body").tooltip({ selector: '[data-toggle=tooltip]' });
    
});

function fetchRank(){
  var head = "https://online-go.com/api/v1/players/";
  var user_id_value = document.getElementById("ogs-userid").value;
  var theURL = head.concat(user_id_value);
    var xmlHTTP = new XMLHttpRequest();
    xmlHTTP.open("GET", theURL, false);
    xmlHTTP.send(null);
    var r = JSON.parse(xmlHTTP.responseText);

    var rank = "";
    if (r.ranking < 30) {
          rank = (30 - r.ranking) + "k";
        }
        else {
          rank = ((r.ranking - 30) + 1) + "d";
        }
    
    var rating_value = document.getElementById("rating");
    rating_value.value = r.rating;

    var rank_value = document.getElementById("rank");
    rank_value.value = rank;

    var about_value = document.getElementById("about");
    about_value.value = r.about;
}

</script>

</html>
